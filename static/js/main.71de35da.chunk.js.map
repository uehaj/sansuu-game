{"version":3,"sources":["components/NumPad.tsx","components/Results.tsx","components/GameMainPanel.tsx","components/Header.tsx","gameState.tsx","components/App.tsx","index.tsx"],"names":["onKey","keyTop","gameState","setNumber","onChange","useCallback","k","prevN","game","gameRounds","currentGameRound","lastRoundStarted","withStyles","numButton","margin","fontSize","textArea","inputArea","padding","_ref","classes","onSnackbarOk","message","_useState","useState","_useState2","Object","slicedToArray","number","react_default","a","createElement","Fragment","Snackbar_default","anchorOrigin","vertical","horizontal","open","Typography_default","variant","style","color","Button_default","onClick","Grid_default","container","spacing","item","xs","align","concat","length","sm","question","Paper_default","justify","map","n","key","textAlign","className","styles","createStyles","theme","root","width","marginTop","unit","overflowX","table","minWidth","props","componentProps","gameLog","assign","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","result","i","component","scope","button","useGameStateResult","log","setGameLog","setPhase","setCurrentRound","setPlayerName","setStartTimeInString","setFinishTimeInString","setLastRoundStarted","clearResult","addResult","gameStart","now","Date","getTime","toLocaleString","handleAnswerd","answer","elapsedTimeInMilliSec","correct","handleSnackBarOk","toString","gameResult","startTimeInString","playerName","results","reduce","acc","curr","prevValue","toConsumableArray","localStorage","setItem","JSON","stringify","gamePhase","setTimeout","data-testid","components_NumPad","components_Results","flexGrow","grow","menuButton","marginLeft","marginRight","anchorEl","setAnchorEl","handleClose","event","AppBar_default","position","Toolbar_default","IconButton_default","currentTarget","icons_Menu_default","Menu_default","id","Boolean","onClose","MenuItem_default","Game","lhs","rhs","opeName","operation","classCallCheck","this","leftHandSide","rightHandSide","operationName","generateGames","nRounds","Array","fill","_","Math","floor","random","arguments","undefined","setGameState","newPhase","prevState","objectSpread","newCurrentRound","finishTimeInString","useGameState","CssBaseline_default","components_Header","components_GameMainPanel","stringLog","getItem","parse","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.71de35da.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Game, GameState } from '../gameState';\nimport classNames from 'classnames';\n\nconst styles = {\n  numButton: {\n    margin: '0.5rem',\n    fontSize: '1.2rem',\n  },\n  textArea: {\n    margin: '1rem',\n    fontSize: '2rem',\n  },\n  inputArea: {\n    margin: '1rem',\n    fontSize: '2rem',\n    padding: '0.5rem',\n  },\n};\n\ntype Props = {\n  classes: any;\n  onChange?: (game: Game, answer: number, lastRoundStarted: number) => void;\n  onSnackbarOk?: () => void;\n  gameState: GameState;\n  message?: string;\n};\n\nconst onKey = (\n  keyTop: any,\n  gameState: GameState,\n  setNumber: (z: number | ((y: number) => number)) => void,\n  onChange: Props['onChange']\n) =>\n  useCallback(\n    (k: any) => {\n      if (typeof keyTop === 'number') {\n        setNumber((prevN: number) => prevN * 10 + keyTop);\n      } else if (typeof keyTop === 'string') {\n        if (keyTop === 'CLR') {\n          setNumber(0);\n        } else if (onChange && keyTop === 'OK') {\n          setNumber(prevN => {\n            const game = gameState.gameRounds[gameState.currentGameRound];\n            if (gameState.lastRoundStarted) {\n              onChange(game, prevN, gameState.lastRoundStarted);\n            }\n            return prevN;\n          });\n        }\n      }\n    },\n    [keyTop, gameState, setNumber, onChange]\n  );\n\nfunction NumPad({\n  classes,\n  gameState,\n  onChange,\n  onSnackbarOk,\n  message,\n}: Props) {\n  const [number, setNumber] = useState<number>(0);\n\n  const game = gameState.gameRounds[gameState.currentGameRound];\n  return (\n    <>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={!!message}\n        message={\n          <>\n            <Typography variant={'h4'} style={{ color: 'white' }}>\n              {message}\n            </Typography>\n            <Typography>\n              <Button\n                onClick={() => {\n                  setNumber(0);\n                  if (onSnackbarOk) {\n                    onSnackbarOk();\n                  }\n                }}\n                variant={'contained'}>\n                <Typography variant={'h4'}>OK</Typography>\n              </Button>\n            </Typography>\n          </>\n        }\n      />\n      <Grid container spacing={32}>\n        <Grid item xs={12}>\n          <Typography variant={'h4'} align={'center'}>\n            <b>{`問題${gameState.currentGameRound + 1} `}</b>(\n            {gameState.currentGameRound + 1} / {gameState.gameRounds.length})\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid container spacing={32} style={{ padding: '0.1em' }}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant={'h4'}>{`${game.question}`}</Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Paper>\n            <Typography variant={'h3'} align={'right'}>\n              {number}\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n      <Paper style={{ margin: '0.1em', padding: '0.1em' }}>\n        <Grid container justify=\"space-between\">\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 'CLR', 'OK'].map(n => (\n            <Grid item xs={4} key={n} style={{ textAlign: 'center' }}>\n              <Button\n                variant={'raised'}\n                className={classes.numButton}\n                onClick={onKey(n, gameState, setNumber, onChange)}>\n                {n}\n              </Button>\n            </Grid>\n          ))}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default withStyles(styles)(NumPad);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { GameState } from '../gameState';\n\nconst styles = createStyles((theme: any) => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n}));\n\ntype Props = { classes: any; componentProps: any; gameLog: any };\n\nfunction Results(props: Props) {\n  const { classes, componentProps, gameLog } = props;\n\n  return (\n    <Paper className={classes.root} {...componentProps}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell>日付</TableCell>\n            <TableCell>名前</TableCell>\n            <TableCell>正解</TableCell>\n            <TableCell>平均時間</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {gameLog.map((result: any, i: number) => (\n            <TableRow key={i}>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[0]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[1]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[2]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[3]}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default withStyles(styles)(Results);\n","import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport NumPad from './NumPad';\nimport Results from './Results';\nimport { useGameState, Game, GameState, Record } from '../gameState';\n\nconst styles = {\n  button: {\n    margin: '3rem',\n    fontSize: '2rem',\n    width: '70%',\n  },\n};\n\ntype Props = {\n  classes: any;\n  useGameStateResult: ReturnType<typeof useGameState>;\n  log: any;\n};\n\nfunction GameMainPanel({ classes, useGameStateResult, log }: Props) {\n  const [gameLog, setGameLog] = useState<[][]>([]);\n  const {\n    gameState,\n    setPhase,\n    setCurrentRound,\n    setPlayerName,\n    setStartTimeInString,\n    setFinishTimeInString,\n    setLastRoundStarted,\n    clearResult,\n    addResult,\n  } = useGameStateResult;\n\n  const gameStart = useCallback(() => {\n    setPhase('running');\n    const now = new Date();\n    setLastRoundStarted(now.getTime());\n    setStartTimeInString(now.toLocaleString());\n    setCurrentRound(0);\n    clearResult();\n    setPlayerName('unknown');\n  }, []);\n\n  const handleAnswerd = (\n    game: Game,\n    answer: number,\n    lastRoundStarted: number\n  ) => {\n    if (game.answer === answer) {\n      setPhase('answered', `正解です`);\n    } else {\n      setPhase('answered', `${answer}は不正解です。正解は${game.answer}`);\n    }\n    addResult({\n      elapsedTimeInMilliSec: Date.now() - lastRoundStarted,\n      correct: game.answer === answer,\n    });\n  };\n\n  const handleSnackBarOk = () => {\n    setPhase('running');\n    if (gameState.currentGameRound === gameState.gameRounds.length - 1) {\n      setFinishTimeInString(new Date().toString());\n      const gameResult = [\n        gameState.startTimeInString,\n        gameState.playerName,\n        `${gameState.results.reduce(\n          (acc, curr) => acc + (curr.correct ? 1 : 0),\n          0\n        )} / ${gameState.results.length}`,\n        gameState.results.reduce(\n          (acc, curr) => acc + curr.elapsedTimeInMilliSec,\n          0\n        ) /\n          1000 /\n          gameState.gameRounds.length,\n      ];\n      setGameLog((prevValue: any) => [...prevValue, gameResult]);\n      localStorage.setItem('log', JSON.stringify(gameResult));\n\n      setPhase('finished');\n    } else {\n      setCurrentRound(gameState.currentGameRound + 1);\n    }\n  };\n\n  const gameReviewed = (gameState: GameState) => () => {\n    setPhase('initial');\n  };\n\n  return (\n    <Grid container>\n      <Grid item xs={1} />\n      {(gameState => {\n        if (gameState.gamePhase === 'initial') {\n          setPhase('splash');\n          return <div />;\n        } else if (gameState.gamePhase === 'splash') {\n          setTimeout(() => {\n            setPhase('ready');\n          }, 1000);\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h1'}>\n                  算数ゲーム\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h4'}>\n                  さんすうゲームがはじまります。\n                </Typography>\n              </Grid>\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'ready') {\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameStart}\n                  data-testid=\"start\">\n                  START\n                </Button>\n              </Grid>\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'running') {\n          return (\n            <Grid item xs={10}>\n              <NumPad gameState={gameState} onChange={handleAnswerd} />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'answered') {\n          return (\n            <Grid item xs={10}>\n              <NumPad\n                gameState={gameState}\n                message={gameState.message}\n                onSnackbarOk={handleSnackBarOk}\n              />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'finished') {\n          return (\n            <Grid container>\n              <Grid item>\n                <Results componentProps={{ width: '100%' }} gameLog={gameLog} />\n              </Grid>\n              <Grid item xs={10}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameReviewed(gameState)}\n                  data-testid=\"finished-ok\">\n                  OK\n                </Button>\n              </Grid>\n            </Grid>\n          );\n        } else {\n          return <div>Error</div>;\n        }\n      })(gameState)}\n    </Grid>\n  );\n}\n\nexport default withStyles(styles)(GameMainPanel);\n","import React, { useState } from 'react';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { useGameState, Game, GameState, Record } from '../gameState';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\ntype Props = {\n  classes: any;\n  useGameStateResult: ReturnType<typeof useGameState>;\n};\n\nfunction Header({ classes, useGameStateResult }: Props) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const {\n    gameState,\n    setPhase,\n    setCurrentRound,\n    setPlayerName,\n    setStartTimeInString,\n    setFinishTimeInString,\n    setLastRoundStarted,\n    clearResult,\n    addResult,\n  } = useGameStateResult;\n\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (event: any) => {\n    setAnchorEl(null);\n    setPhase('finished');\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={handleClick}>\n            <MenuIcon />\n          </IconButton>\n          <Typography variant={'h4'} color=\"inherit\">\n            さんすうゲーム\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <div>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={handleClose}>\n          <MenuItem onClick={handleClose}>中止</MenuItem>\n        </Menu>\n      </div>\n    </>\n  );\n}\n\nexport default withStyles(styles)(Header);\n","import React, { useState } from 'react';\n\ntype GamePhase =\n  | 'initial'\n  | 'splash'\n  | 'ready'\n  | 'running'\n  | 'answered'\n  | 'finished';\n\nexport class Game {\n  private leftHandSide: number;\n  private rightHandSide: number;\n  private operationName: string;\n  private operation: (lhs: number, rhs: number) => number;\n\n  public answer: number;\n  public question: string;\n\n  constructor(\n    lhs: number,\n    rhs: number,\n    opeName: string,\n    operation: (lhs: number, rhs: number) => number\n  ) {\n    this.leftHandSide = lhs;\n    this.rightHandSide = rhs;\n    this.operation = operation;\n    this.answer = this.operation(lhs, rhs);\n    this.operationName = opeName;\n    this.question = `「${lhs} ${this.operationName} ${rhs}」の答えは？`;\n  }\n}\n\nexport type Record = {\n  elapsedTimeInMilliSec: number;\n  correct: boolean;\n};\n\nexport type GameState = {\n  gamePhase: GamePhase;\n  currentGameRound: number;\n  gameRounds: Game[];\n  results: Record[];\n  message?: string;\n  playerName?: string;\n  startTimeInString?: string;\n  finishTimeInString?: string;\n  lastRoundStarted?: number;\n};\n\nfunction generateGames(nRounds: number): Game[] {\n  return Array(nRounds)\n    .fill(0)\n    .map(\n      (_, i) =>\n        new Game(\n          Math.floor(Math.random() * 99) + 1,\n          Math.floor(Math.random() * 99) + 1,\n          '＋',\n          (lhs: number, rhs: number) => lhs + rhs\n        )\n    );\n}\n\nexport function useGameState(nRounds = 5) {\n  const [gameState, setGameState] = useState<GameState>({\n    gamePhase: 'initial',\n    currentGameRound: 0,\n    gameRounds: generateGames(nRounds),\n    results: [] as Record[],\n    message: undefined,\n  });\n  return {\n    gameState,\n    setPhase: (newPhase: GamePhase, message?: string) => {\n      setGameState((prevState: GameState) => ({\n        ...prevState,\n        gamePhase: newPhase,\n        message,\n      }));\n    },\n    setCurrentRound: (newCurrentRound: number) => {\n      setGameState(prevState => ({\n        ...prevState,\n        currentGameRound: newCurrentRound,\n      }));\n    },\n    setPlayerName: (playerName: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        playerName,\n      }));\n    },\n    setStartTimeInString: (startTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        startTimeInString,\n      }));\n    },\n    setFinishTimeInString: (finishTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        finishTimeInString,\n      }));\n    },\n    setLastRoundStarted: (lastRoundStarted: number) => {\n      setGameState(prevState => ({\n        ...prevState,\n        lastRoundStarted,\n      }));\n    },\n    clearResult: () => {\n      setGameState(prevState => ({\n        ...prevState,\n        results: [],\n      }));\n    },\n    addResult: (result: Record) => {\n      setGameState(prevState => ({\n        ...prevState,\n        results: [...prevState.results, result],\n      }));\n    },\n  };\n}\n","import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport GameMainPanel from './GameMainPanel';\nimport Header from './Header';\nimport { useGameState, Game, GameState, Record } from '../gameState';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\ntype Props = {\n  classes: any;\n  log: any;\n};\n\nfunction App({ classes, log }: Props) {\n  const useGameStateResult = useGameState();\n  return (\n    <>\n      <CssBaseline />\n      <Header useGameStateResult={useGameStateResult} />\n      <GameMainPanel useGameStateResult={useGameStateResult} log={log} />\n    </>\n  );\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nconst stringLog: string | null = localStorage.getItem('log');\nlet log: any = [];\nif (stringLog === null) {\n  log = [];\n} else {\n  log = JSON.parse(stringLog);\n}\nReactDOM.render(<App log={log} />, document.getElementById('root'));\n"],"sourceRoot":""}