{"version":3,"sources":["components/AnsweredPanel.tsx","components/NumPad.tsx","components/Results.tsx","components/MainPanel.tsx","components/Header.tsx","hooks/useGameState.tsx","components/App.tsx","index.tsx"],"names":["styles","createStyles","withStyles","_ref","message","onOk","answerShowing","react_default","a","createElement","Snackbar_default","anchorOrigin","vertical","horizontal","open","Fragment","Typography_default","variant","style","color","Button_default","onClick","buttonWrapper","textAlign","button","margin","fontSize","genMessage","game","answer","concat","handleNumberPressed","keyTop","setNumber","useCallback","event","prevN","handleCLR","handleOK","setAnswer","onAnswered","classes","gameState","setPhase","_useState","useState","_useState2","Object","slicedToArray","number","_useState3","_useState4","ref","useRef","useEffect","current","focus","gameStateRef","gameRounds","currentGameRound","components_AnsweredPanel","length","Grid_default","container","spacing","item","xs","align","marginBottom","padding","sm","question","Paper_default","justify","map","n","key","className","buttonRef","theme","root","width","marginTop","unit","overflowX","table","minWidth","props","componentProps","gameLog","assign","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","result","i","component","scope","Math","round","gameStateOperators","log","setGameLog","addCurrentRound","setPlayerName","setStartTimeInString","setFinishTimeInString","setLastRoundStarted","clear","addResult","gameStart","now","Date","getTime","toLocaleString","handleAnswered","lastRoundStarted","elapsedTimeInMilliSec","correct","toString","record","gameResult","startTimeInString","playerName","results","reduce","acc","curr","console","recordOf","prevValue","nextValue","toConsumableArray","localStorage","setItem","JSON","stringify","gamePhase","setTimeout","flexDirection","data-testid","components_NumPad","components_Results","appBar","menuButton","marginLeft","marginRight","anchorEl","setAnchorEl","AppBar_default","position","Toolbar_default","IconButton_default","currentTarget","icons_Menu_default","Menu_default","id","Boolean","onClose","MenuItem_default","Game","lhs","rhs","opeName","operation","classCallCheck","this","leftHandSide","rightHandSide","operationName","generateGames","nRounds","Array","fill","_","floor","random","flexGrow","grow","arguments","undefined","setGameState","newPhase","prevState","objectSpread","finishTimeInString","useGameState","CssBaseline_default","components_Header","components_MainPanel","stringLog","getItem","parse","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.1bf16a3b.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst styles = createStyles({});\n\ntype Props = {\n  classes: any;\n  onOk: () => void;\n  message?: string;\n  answerShowing: boolean;\n};\n\nfunction AnsweredPanel({ message, onOk, answerShowing }: Props) {\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open={answerShowing}\n      message={\n        <>\n          <Typography variant={'h4'} style={{ color: 'white' }}>\n            {message}\n          </Typography>\n          <Typography>\n            <Button\n              onClick={() => {\n                if (onOk) {\n                  onOk();\n                }\n              }}\n              variant={'contained'}>\n              <Typography variant={'h4'}>OK</Typography>\n            </Button>\n          </Typography>\n        </>\n      }\n    />\n  );\n}\n\nexport default withStyles(styles)(AnsweredPanel);\n","import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport AnsweredPanel from '../components/AnsweredPanel';\nimport { Game, GameState, GamePhase } from '../hooks/useGameState';\n\nconst styles = createStyles({\n  buttonWrapper: {\n    textAlign: 'center',\n  },\n  button: {\n    margin: '0.5rem',\n    fontSize: '1.2rem',\n  },\n});\n\nfunction genMessage(game: Game, answer: number | null) {\n  if (answer === null) {\n    return '';\n  } else if (game.answer === answer) {\n    return `正解です`;\n  } else {\n    return `${answer}は不正解です。正解は${game.answer}`;\n  }\n}\n\ntype Props = {\n  classes: any;\n  setPhase: (newPhase: GamePhase) => void;\n  onAnswered: (answer: number) => void;\n  gameState: GameState;\n};\n\nconst handleNumberPressed = (\n  keyTop: number,\n  setNumber: (z: number | ((y: number) => number)) => void\n) =>\n  useCallback(\n    (event: any) => {\n      setNumber((prevN: number) => prevN * 10 + keyTop);\n    },\n    [keyTop, setNumber]\n  );\n\nconst handleCLR = (setNumber: (z: number | ((y: number) => number)) => void) =>\n  useCallback((event: any) => {\n    setNumber(0);\n  }, []);\n\nconst handleOK = (\n  setNumber: (z: number | ((y: number) => number)) => void,\n  setAnswer: (z: number) => void,\n  onAnswered: Props['onAnswered']\n) =>\n  useCallback((event: any) => {\n    setNumber(prevN => {\n      setAnswer(prevN);\n      onAnswered(prevN);\n      return prevN;\n    });\n  }, []);\n\nfunction NumPad({ classes, gameState, onAnswered, setPhase }: Props) {\n  const [number, setNumber] = useState<number>(0);\n  const [answer, setAnswer] = useState<number | null>(null);\n\n  // refを使ってボタンにフォーカスを取得させる\n  const ref = useRef();\n  useEffect(() => {\n    if (ref && ref.current) {\n      (ref.current as any).focus();\n    }\n  });\n\n  // gameStateをイベントハンドラとの間でシェアする。\n  const gameStateRef = useRef<GameState>(gameState);\n  gameStateRef.current = gameState;\n\n  const game = gameState.gameRounds[gameState.currentGameRound];\n  return (\n    <>\n      <AnsweredPanel\n        message={genMessage(game, answer)}\n        answerShowing={answer !== null}\n        onOk={() => {\n          setAnswer(null);\n          setNumber(0);\n          const gameState = gameStateRef.current;\n          if (gameState.currentGameRound === gameState.gameRounds.length - 1) {\n            setPhase('finished');\n          }\n        }}\n      />\n      <Grid container spacing={32}>\n        <Grid item xs={12}>\n          <Typography variant={'h4'} align={'center'}>\n            <b>{`問題${gameState.currentGameRound + 1} `}</b>/{' '}\n            {gameState.gameRounds.length}\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid\n        container\n        spacing={32}\n        style={{ marginBottom: '0.5rem', padding: '0.1fem' }}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant={'h4'}>{`${game.question}`}</Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Paper>\n            <Typography variant={'h3'} align={'right'}>\n              {number}\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n      <Paper style={{ margin: '0.1em', padding: '0.1em' }}>\n        <Grid container justify=\"space-between\">\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 0].map(n => (\n            <Grid item xs={4} key={n} style={{ textAlign: 'center' }}>\n              <Button\n                variant={'contained'}\n                className={classes.button}\n                onClick={handleNumberPressed(n, setNumber)}>\n                {n}\n              </Button>\n            </Grid>\n          ))}\n          <Grid item xs={4} className={classes.buttonWrapper}>\n            <Button\n              variant={'contained'}\n              className={classes.button}\n              onClick={handleCLR(setNumber)}>\n              CLR\n            </Button>\n          </Grid>\n          <Grid item xs={4} className={classes.buttonWrapper}>\n            <Button\n              variant={'contained'}\n              className={classes.button}\n              onClick={handleOK(setNumber, setAnswer, onAnswered)}\n              buttonRef={ref}>\n              OK\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default withStyles(styles)(NumPad);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { GameState } from '../hooks/useGameState';\n\nconst styles = createStyles((theme: any) => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n}));\n\ntype Props = { classes: any; componentProps: any; gameLog: any };\n\nfunction Results(props: Props) {\n  const { classes, componentProps, gameLog } = props;\n\n  return (\n    <Paper className={classes.root} {...componentProps}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell>日付</TableCell>\n            <TableCell>名前</TableCell>\n            <TableCell>正解</TableCell>\n            <TableCell>平均時間</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {gameLog.map((result: any, i: number) => (\n            <TableRow key={i}>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[0]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[1]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[2]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {Math.round(result[3] * 10) / 10}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default withStyles(styles)(Results);\n","import React, { useState, useCallback, useRef } from 'react';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nimport NumPad from './NumPad';\nimport Results from './Results';\nimport { useGameState, Game, GameState, Record } from '../hooks/useGameState';\n\nconst styles = createStyles({\n  button: {\n    margin: '1rem',\n    fontSize: '2rem',\n    width: '20rem',\n  },\n});\n\nfunction recordOf(gameState: GameState) {\n  const gameResult = [\n    gameState.startTimeInString,\n    gameState.playerName,\n    `${gameState.results.reduce(\n      (acc, curr) => acc + (curr.correct ? 1 : 0),\n      0\n    )} / ${gameState.results.length}`,\n    gameState.results.reduce(\n      (acc, curr) => acc + curr.elapsedTimeInMilliSec,\n      0\n    ) /\n      1000 /\n      gameState.gameRounds.length,\n  ];\n  console.log('gameResult=', gameResult);\n  return gameResult;\n  // localStorage.setItem('log', JSON.stringify([...log, gameResult]));\n}\n\ntype Props = {\n  classes: any;\n  gameStateOperators: ReturnType<typeof useGameState>;\n  log: any;\n};\n\nfunction MainPanel({ classes, gameStateOperators, log }: Props) {\n  const [gameLog, setGameLog] = useState<[][]>(log);\n  const {\n    gameState,\n    setPhase,\n    addCurrentRound,\n    setPlayerName,\n    setStartTimeInString,\n    setFinishTimeInString,\n    setLastRoundStarted,\n    clear,\n    addResult,\n  } = gameStateOperators;\n\n  // gameStateをイベントハンドラとの間でシェアする。\n  const gameStateRef = useRef<GameState>(gameState);\n  gameStateRef.current = gameState;\n\n  // スタートボタンが押されたときに呼びだされるイベントハンドラ。\n  const gameStart = useCallback(() => {\n    setPhase('running');\n    const now = new Date();\n    setLastRoundStarted(now.getTime());\n    setStartTimeInString(now.toLocaleString());\n    clear();\n    setPlayerName('unknown');\n  }, []);\n\n  // 問題1問に対する回答がなされたときに呼びだされるイベントハンドラ。\n  const handleAnswered = useCallback((answer: number) => {\n    const gameState = gameStateRef.current;\n\n    if (gameState.lastRoundStarted) {\n      const game = gameState.gameRounds[gameState.currentGameRound];\n      if (gameState.lastRoundStarted) {\n        addResult({\n          elapsedTimeInMilliSec: Date.now() - gameState.lastRoundStarted,\n          correct: game.answer === answer,\n        });\n      }\n    }\n\n    if (gameState.currentGameRound === gameState.gameRounds.length - 1) {\n      // 一連の問題(Round)が終了\n      setFinishTimeInString(new Date().toString());\n      const record = recordOf(gameState);\n      setGameLog((prevValue: any) => {\n        const nextValue = [...prevValue, record];\n        console.log(nextValue);\n        localStorage.setItem('log', JSON.stringify(nextValue));\n        return nextValue;\n      });\n      setPhase('finished');\n    } else {\n      addCurrentRound();\n    }\n  }, []);\n\n  // 結果表示画面でOKボタンが押されたときに呼びだされるイベントハンドラ。\n  const gameReviewed = (gameState: GameState) => () => {\n    setPhase('initial');\n  };\n\n  return (\n    <Grid container>\n      <Grid item xs={1} />\n      {(() => {\n        if (gameState.gamePhase === 'initial') {\n          setPhase('splash');\n          return <div />;\n        } else if (gameState.gamePhase === 'splash') {\n          setTimeout(() => {\n            setPhase('ready');\n          }, 1000);\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h1'}>\n                  算数ゲーム\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h4'}>\n                  さんすうゲームがはじまります。\n                </Typography>\n              </Grid>\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'ready') {\n          return (\n            <Grid\n              container\n              style={{\n                flexDirection: 'column',\n              }}>\n              <Grid item sm={1} />\n              <Grid\n                item\n                sm={10}\n                style={{\n                  textAlign: 'center',\n                }}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameStart}\n                  data-testid=\"start\">\n                  START\n                </Button>\n              </Grid>\n              <Grid item xs={1} />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'running') {\n          console.log('gameState==', gameState);\n          return (\n            <Grid item xs={10}>\n              <NumPad\n                gameState={gameState}\n                setPhase={setPhase}\n                onAnswered={handleAnswered}\n              />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'finished') {\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Results\n                  componentProps={{\n                    width: '100%',\n                  }}\n                  gameLog={gameLog}\n                />\n              </Grid>\n              <Grid\n                item\n                xs={12}\n                style={{\n                  textAlign: 'center',\n                }}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameReviewed(gameState)}\n                  data-testid=\"finished-ok\">\n                  OK\n                </Button>\n              </Grid>\n            </Grid>\n          );\n        } else {\n          return <div>Error: {gameState.gamePhase}</div>;\n        }\n      })()}\n    </Grid>\n  );\n}\n\nexport default withStyles(styles)(MainPanel);\n","import React, { useState } from 'react';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\n\nimport { useGameState, Game, GameState, Record } from '../hooks/useGameState';\n\nconst styles = createStyles({\n  appBar: {\n    marginBottom: '0.5rem',\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n});\n\ntype Props = {\n  classes: any;\n  gameStateOperators: ReturnType<typeof useGameState>;\n};\n\nfunction Header({ classes, gameStateOperators }: Props) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const {\n    gameState,\n    setPhase,\n    addCurrentRound,\n    setPlayerName,\n    setStartTimeInString,\n    setFinishTimeInString,\n    setLastRoundStarted,\n    clear,\n    addResult,\n  } = gameStateOperators;\n\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleSelect = (event: any) => {\n    setAnchorEl(null);\n    setPhase('finished');\n  };\n\n  const handleClose = (event: any) => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={handleClick}>\n            <MenuIcon />\n          </IconButton>\n          <Typography variant={'h4'} color=\"inherit\">\n            さんすうゲーム\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <div>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={handleClose}>\n          <MenuItem onClick={handleSelect}>中止</MenuItem>\n        </Menu>\n      </div>\n    </>\n  );\n}\n\nexport default withStyles(styles)(Header);\n","import React, { useState } from 'react';\n\nexport type GamePhase = 'initial' | 'splash' | 'ready' | 'running' | 'finished';\n\nexport class Game {\n  private leftHandSide: number;\n  private rightHandSide: number;\n  private operationName: string;\n  private operation: (lhs: number, rhs: number) => number;\n\n  public answer: number;\n  public question: string;\n\n  constructor(\n    lhs: number,\n    rhs: number,\n    opeName: string,\n    operation: (lhs: number, rhs: number) => number\n  ) {\n    this.leftHandSide = lhs;\n    this.rightHandSide = rhs;\n    this.operation = operation;\n    this.answer = this.operation(lhs, rhs);\n    this.operationName = opeName;\n    this.question = `「${lhs} ${this.operationName} ${rhs}」の答えは？`;\n  }\n}\n\nexport type Record = {\n  elapsedTimeInMilliSec: number;\n  correct: boolean;\n};\n\nexport type GameState = {\n  gamePhase: GamePhase;\n  currentGameRound: number;\n  gameRounds: Game[];\n  results: Record[];\n  playerName?: string;\n  startTimeInString?: string;\n  finishTimeInString?: string;\n  lastRoundStarted?: number;\n};\n\nfunction generateGames(nRounds: number): Game[] {\n  return Array(nRounds)\n    .fill(0)\n    .map(\n      (_, i) =>\n        new Game(\n          Math.floor(Math.random() * 99) + 1,\n          Math.floor(Math.random() * 99) + 1,\n          '＋',\n          (lhs: number, rhs: number) => lhs + rhs\n        )\n    );\n}\n\nexport function useGameState(nRounds = 5) {\n  const [gameState, setGameState] = useState<GameState>({\n    gamePhase: 'initial',\n    currentGameRound: 0,\n    gameRounds: generateGames(nRounds),\n    results: [] as Record[],\n  });\n  return {\n    gameState,\n    setPhase: (newPhase: GamePhase) => {\n      setGameState((prevState: GameState) => ({\n        ...prevState,\n        gamePhase: newPhase,\n      }));\n    },\n    addCurrentRound: () => {\n      setGameState(prevState => ({\n        ...prevState,\n        currentGameRound: prevState.currentGameRound + 1,\n      }));\n    },\n    setPlayerName: (playerName: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        playerName,\n      }));\n    },\n    setStartTimeInString: (startTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        startTimeInString,\n      }));\n    },\n    setFinishTimeInString: (finishTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        finishTimeInString,\n      }));\n    },\n    setLastRoundStarted: (lastRoundStarted: number) => {\n      setGameState(prevState => ({\n        ...prevState,\n        lastRoundStarted,\n      }));\n    },\n    clear: () => {\n      setGameState(prevState => ({\n        ...prevState,\n        results: [],\n        currentGameRound: 0,\n      }));\n    },\n    addResult: (result: Record) => {\n      setGameState(prevState => ({\n        ...prevState,\n        results: [...prevState.results, result],\n      }));\n    },\n  };\n}\n","import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport MainPanel from './MainPanel';\nimport Header from './Header';\nimport { useGameState, Game, GameState, Record } from '../hooks/useGameState';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\ntype Props = {\n  classes: any;\n  log: any;\n};\n\nfunction App({ classes, log }: Props) {\n  const gameStateOperators = useGameState();\n  return (\n    <>\n      <CssBaseline />\n      <Header gameStateOperators={gameStateOperators} />\n      <MainPanel gameStateOperators={gameStateOperators} log={log} />\n    </>\n  );\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nconst stringLog: string | null = localStorage.getItem('log');\nconsole.log(stringLog);\nlet log: any = [];\nif (stringLog === null) {\n  log = [];\n} else {\n  log = JSON.parse(stringLog);\n}\nconsole.log('load=', log);\nReactDOM.render(<App log={log} />, document.getElementById('root'));\n"],"sourceRoot":""}