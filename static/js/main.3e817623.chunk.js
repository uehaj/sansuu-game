(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),o=n(72),s=n.n(o),m=n(19),l=n(73),u=n.n(l),d=n(74),g=n.n(d),h=n(11),f=n.n(h),E=n(75),S=n.n(E),v=n(76),p=n.n(v),b=n(26),w=n.n(b),R=n(6),O=n.n(R),y=n(36),j=n(25),x=n.n(j),P=n(69),T=n.n(P),C=function(e,t,n,a){return function(r){if("number"===typeof e)n(function(t){return 10*t+e});else if("string"===typeof e)if("CLR"===e)n(0);else if(a&&"OK"===e){var i=t.gameRounds[t.currentGameRound];n(function(e){return t.lastRoundStarted&&a(i,e,t.lastRoundStarted),e})}}};var k=Object(m.withStyles)({numButton:{margin:"1rem",fontSize:"2rem"},textArea:{margin:"1rem",fontSize:"2rem"},inputArea:{margin:"1rem",fontSize:"2rem",padding:"0.5rem"}})(function(e){var t=e.classes,n=e.gameState,i=e.onChange,c=e.onOk,o=e.message,s=Object(a.useState)(0),m=Object(y.a)(s,2),l=m[0],u=m[1],d=n.gameRounds[n.currentGameRound];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!o,message:r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"h4",style:{color:"white"}},o),r.a.createElement(f.a,null,r.a.createElement(w.a,{onClick:c,variant:"contained"},r.a.createElement(f.a,{variant:"h4"},"OK"))))}),r.a.createElement(O.a,{container:!0,spacing:32},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h3"},r.a.createElement("b",null,"\u554f\u984c".concat(n.currentGameRound+1," "))))),r.a.createElement(O.a,{container:!0,spacing:32,style:{padding:"1em"}},r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"h4"},"".concat(d.question))),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(x.a,null,r.a.createElement(f.a,{variant:"h3",align:"right"},l)))),r.a.createElement(x.a,{style:{margin:"1em"}},r.a.createElement(O.a,{container:!0,justify:"space-between"},[1,2,3,4,5,6,7,8,9,0,"CLR","OK"].map(function(e){return r.a.createElement(O.a,{item:!0,xs:4,key:e,style:{textAlign:"center"}},r.a.createElement(w.a,{variant:"contained",className:t.numButton,onClick:C(e,n,u,i)},e))}))))}),G=n(77),N=n(18),I=n(71),L=function e(t,n,a,r){Object(I.a)(this,e),this.leftHandSide=void 0,this.rightHandSide=void 0,this.operationName=void 0,this.operation=void 0,this.answer=void 0,this.question=void 0,this.leftHandSide=t,this.rightHandSide=n,this.operation=r,this.answer=this.operation(t,n),this.operationName=a,this.question="\u300c".concat(t," ").concat(this.operationName," ").concat(n,"\u300d\u306e\u7b54\u3048\u306f\uff1f")};function M(e){return Array(e).fill(0).map(function(e,t){return new L(Math.floor(99*Math.random())+1,Math.floor(99*Math.random())+1,"\uff0b",function(e,t){return e+t})})}var z=Object(m.withStyles)({button:{margin:"1rem",fontSize:"2rem"}})(function(e){var t=e.classes,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=Object(a.useState)({gamePhase:"initial",currentGameRound:0,gameRounds:M(e),results:[],message:void 0}),n=Object(y.a)(t,2),r=n[0],i=n[1];return{gameState:r,setPhase:function(e,t){i(function(n){return Object(N.a)({},n,{gamePhase:e,message:t})})},setCurrentRound:function(e){i(function(t){return Object(N.a)({},t,{currentGameRound:e})})},setPlayerName:function(e){i(function(t){return Object(N.a)({},t,{playerName:e})})},setStartTimeInString:function(e){i(function(t){return Object(N.a)({},t,{startTimeInString:e})})},setFinishTimeInString:function(e){i(function(t){return Object(N.a)({},t,{finishTimeInString:e})})},setLastRoundStarted:function(e){i(function(t){return Object(N.a)({},t,{lastRoundStarted:e})})},addResult:function(e){i(function(t){return Object(N.a)({},t,{results:[].concat(Object(G.a)(t.results),[e])})})}}}(),i=n.gameState,c=n.setPhase,o=n.setCurrentRound,s=(n.setPlayerName,n.setStartTimeInString),m=n.setFinishTimeInString,l=n.setLastRoundStarted,u=n.addResult,d=Object(a.useCallback)(function(){c("running");var e=new Date;l(e.getTime()),s(e.toLocaleString())},[]),g=function(e,t,n){e.answer===t?c("answered","\u6b63\u89e3\u3067\u3059"):c("answered","".concat(t,"\u306f\u4e0d\u6b63\u89e3\u3067\u3059\u3002\u6b63\u89e3\u306f").concat(e.answer)),u({elapsedTimeInMilliSec:Date.now()-n,correct:e.answer===t})},h=function(){c("running"),i.currentGameRound===i.gameRounds.length-1?(m((new Date).toString()),c("finished")):o(i.currentGameRound+1)};return r.a.createElement(O.a,{container:!0,style:{margin:"1em"}},r.a.createElement(O.a,{item:!0,xs:1}),function(e){return"initial"===e.gamePhase?(c("splash"),r.a.createElement("div",null)):"splash"===e.gamePhase?(setTimeout(function(){c("ready")},1e3),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(f.a,{align:"center",variant:"h1"},"\u7b97\u6570\u30b2\u30fc\u30e0")),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(f.a,{align:"center",variant:"h4"},"\u3055\u3093\u3059\u3046\u30b2\u30fc\u30e0\u304c\u306f\u3058\u307e\u308a\u307e\u3059\u3002")))):"ready"===e.gamePhase?r.a.createElement(O.a,{item:!0,xs:10},r.a.createElement(w.a,{variant:"contained",className:t.button,color:"secondary",onClick:d,"data-testid":"start"},"START")):"running"===e.gamePhase?r.a.createElement(O.a,{item:!0,xs:10},r.a.createElement(k,{gameState:e,onChange:g})):"answered"===e.gamePhase?r.a.createElement(O.a,{item:!0,xs:10},r.a.createElement(k,{gameState:e,message:e.message,onOk:h})):r.a.createElement("div",null,"Error")}(i))});var A=Object(m.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),r.a.createElement(u.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(S.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(p.a,null)),r.a.createElement(f.a,{variant:"h4",color:"inherit"},"\u3055\u3093\u3059\u3046\u30b2\u30fc\u30e0"))),r.a.createElement(z,null))});c.a.render(r.a.createElement(A,null),document.getElementById("root"))},78:function(e,t,n){e.exports=n(182)}},[[78,1,2]]]);
//# sourceMappingURL=main.3e817623.chunk.js.map