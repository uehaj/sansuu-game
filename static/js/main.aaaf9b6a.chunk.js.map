{"version":3,"sources":["components/NumPad.tsx","components/Results.tsx","gameState.tsx","components/GameMainPanel.tsx","components/App.tsx","index.tsx"],"names":["onKey","keyTop","gameState","setNumber","onChange","k","prevN","game","gameRounds","currentGameRound","lastRoundStarted","withStyles","numButton","margin","fontSize","textArea","inputArea","padding","_ref","classes","onSnackbarOk","message","_useState","useState","_useState2","Object","slicedToArray","number","react_default","a","createElement","Fragment","Snackbar_default","anchorOrigin","vertical","horizontal","open","Typography_default","variant","style","color","Button_default","onClick","Grid_default","container","spacing","item","xs","align","concat","length","sm","question","Paper_default","justify","map","n","key","textAlign","className","styles","createStyles","theme","root","width","marginTop","unit","overflowX","table","minWidth","props","gameResuts","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","result","i","component","scope","Game","lhs","rhs","opeName","operation","classCallCheck","this","leftHandSide","rightHandSide","operationName","answer","generateGames","nRounds","Array","fill","_","Math","floor","random","button","gameResults","setGameResult","_useGameState","arguments","undefined","gamePhase","results","setGameState","setPhase","newPhase","prevState","objectSpread","setCurrentRound","newCurrentRound","setPlayerName","playerName","setStartTimeInString","startTimeInString","setFinishTimeInString","finishTimeInString","setLastRoundStarted","addResult","toConsumableArray","useGameState","gameStart","useCallback","now","Date","getTime","toLocaleString","handleAnswerd","elapsedTimeInMilliSec","correct","handleSnackBarOk","toString","gameReviewed","gameResult","reduce","acc","curr","prevValue","setTimeout","data-testid","components_NumPad","components_Results","flexGrow","grow","menuButton","marginLeft","marginRight","CssBaseline_default","AppBar_default","position","Toolbar_default","IconButton_default","aria-label","Menu_default","components_GameMainPanel","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.aaaf9b6a.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Game, GameState } from '../gameState';\nimport classNames from 'classnames';\n\nconst styles = {\n  numButton: {\n    margin: '0.5rem',\n    fontSize: '1.2rem',\n  },\n  textArea: {\n    margin: '1rem',\n    fontSize: '2rem',\n  },\n  inputArea: {\n    margin: '1rem',\n    fontSize: '2rem',\n    padding: '0.5rem',\n  },\n};\n\ntype Props = {\n  classes: any;\n  onChange?: (game: Game, answer: number, lastRoundStarted: number) => void;\n  onSnackbarOk?: () => void;\n  gameState: GameState;\n  message?: string;\n};\n\nconst onKey = (\n  keyTop: any,\n  gameState: GameState,\n  setNumber: (z: number | ((y: number) => number)) => void,\n  onChange: Props['onChange']\n) => (k: any) => {\n  if (typeof keyTop === 'number') {\n    setNumber((prevN: number) => prevN * 10 + keyTop);\n  } else if (typeof keyTop === 'string') {\n    if (keyTop === 'CLR') {\n      setNumber(0);\n    } else if (onChange && keyTop === 'OK') {\n      setNumber(prevN => {\n        const game = gameState.gameRounds[gameState.currentGameRound];\n        if (gameState.lastRoundStarted) {\n          onChange(game, prevN, gameState.lastRoundStarted);\n        }\n        return prevN;\n      });\n    }\n  }\n};\n\nfunction NumPad({\n  classes,\n  gameState,\n  onChange,\n  onSnackbarOk,\n  message,\n}: Props) {\n  const [number, setNumber] = useState<number>(0);\n\n  const game = gameState.gameRounds[gameState.currentGameRound];\n  return (\n    <>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={!!message}\n        message={\n          <>\n            <Typography variant={'h4'} style={{ color: 'white' }}>\n              {message}\n            </Typography>\n            <Typography>\n              <Button\n                onClick={() => {\n                  setNumber(0);\n                  if (onSnackbarOk) {\n                    onSnackbarOk();\n                  }\n                }}\n                variant={'contained'}>\n                <Typography variant={'h4'}>OK</Typography>\n              </Button>\n            </Typography>\n          </>\n        }\n      />\n      <Grid container spacing={32}>\n        <Grid item xs={12}>\n          <Typography variant={'h4'} align={'center'}>\n            <b>{`問題${gameState.currentGameRound + 1} `}</b>(\n            {gameState.currentGameRound + 1} / {gameState.gameRounds.length})\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid container spacing={32} style={{ padding: '0.1em' }}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant={'h4'}>{`${game.question}`}</Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Paper>\n            <Typography variant={'h3'} align={'right'}>\n              {number}\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n      <Paper style={{ margin: '0.1em', padding: '0.1em' }}>\n        <Grid container justify=\"space-between\">\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 'CLR', 'OK'].map(n => (\n            <Grid item xs={4} key={n} style={{ textAlign: 'center' }}>\n              <Button\n                variant={'raised'}\n                className={classes.numButton}\n                onClick={onKey(n, gameState, setNumber, onChange)}>\n                {n}\n              </Button>\n            </Grid>\n          ))}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default withStyles(styles)(NumPad);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { GameState } from '../gameState';\n\nconst styles = createStyles((theme: any) => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n}));\n\ntype Props = { classes: any; gameResuts: any };\n\nfunction Results(props: Props) {\n  const { classes, gameResuts } = props;\n\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell>日付</TableCell>\n            <TableCell>名前</TableCell>\n            <TableCell>正解</TableCell>\n            <TableCell>平均時間</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {gameResuts.map((result: any, i: number) => (\n            <TableRow key={i}>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[0]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[1]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[2]}\n              </TableCell>\n              <TableCell component=\"th\" scope=\"row\">\n                {result[3]}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default withStyles(styles)(Results);\n","import React, { useState } from 'react';\n\ntype GamePhase =\n  | 'initial'\n  | 'splash'\n  | 'ready'\n  | 'running'\n  | 'answered'\n  | 'finished';\n\nexport class Game {\n  private leftHandSide: number;\n  private rightHandSide: number;\n  private operationName: string;\n  private operation: (lhs: number, rhs: number) => number;\n\n  public answer: number;\n  public question: string;\n\n  constructor(\n    lhs: number,\n    rhs: number,\n    opeName: string,\n    operation: (lhs: number, rhs: number) => number\n  ) {\n    this.leftHandSide = lhs;\n    this.rightHandSide = rhs;\n    this.operation = operation;\n    this.answer = this.operation(lhs, rhs);\n    this.operationName = opeName;\n    this.question = `「${lhs} ${this.operationName} ${rhs}」の答えは？`;\n  }\n}\n\nexport type Record = {\n  elapsedTimeInMilliSec: number;\n  correct: boolean;\n};\n\nexport type GameState = {\n  gamePhase: GamePhase;\n  currentGameRound: number;\n  gameRounds: Game[];\n  results: Record[];\n  message?: string;\n  playerName?: string;\n  startTimeInString?: string;\n  finishTimeInString?: string;\n  lastRoundStarted?: number;\n};\n\nfunction generateGames(nRounds: number): Game[] {\n  return Array(nRounds)\n    .fill(0)\n    .map(\n      (_, i) =>\n        new Game(\n          Math.floor(Math.random() * 99) + 1,\n          Math.floor(Math.random() * 99) + 1,\n          '＋',\n          (lhs: number, rhs: number) => lhs + rhs\n        )\n    );\n}\n\nexport function useGameState(nRounds = 5) {\n  const [gameState, setGameState] = useState<GameState>({\n    gamePhase: 'initial',\n    currentGameRound: 0,\n    gameRounds: generateGames(nRounds),\n    results: [] as Record[],\n    message: undefined,\n  });\n  return {\n    gameState,\n    setPhase: (newPhase: GamePhase, message?: string) => {\n      setGameState((prevState: GameState) => ({\n        ...prevState,\n        gamePhase: newPhase,\n        message,\n      }));\n    },\n    setCurrentRound: (newCurrentRound: number) => {\n      setGameState(prevState => ({\n        ...prevState,\n        currentGameRound: newCurrentRound,\n      }));\n    },\n    setPlayerName: (playerName: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        playerName,\n      }));\n    },\n    setStartTimeInString: (startTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        startTimeInString,\n      }));\n    },\n    setFinishTimeInString: (finishTimeInString: string) => {\n      setGameState(prevState => ({\n        ...prevState,\n        finishTimeInString,\n      }));\n    },\n    setLastRoundStarted: (lastRoundStarted: number) => {\n      setGameState(prevState => ({\n        ...prevState,\n        lastRoundStarted,\n      }));\n    },\n    addResult: (result: Record) => {\n      setGameState(prevState => ({\n        ...prevState,\n        results: [...prevState.results, result],\n      }));\n    },\n  };\n}\n","import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport NumPad from './NumPad';\nimport Results from './Results';\nimport { useGameState, Game, GameState, Record } from '../gameState';\n\nconst styles = {\n  button: {\n    margin: '3rem',\n    fontSize: '2rem',\n    width: '70%',\n  },\n};\n\ntype Props = {\n  classes: any;\n};\n\nfunction GameMainPanel({ classes }: Props) {\n  const [gameResults, setGameResult] = useState<any>([]);\n  const {\n    gameState,\n    setPhase,\n    setCurrentRound,\n    setPlayerName,\n    setStartTimeInString,\n    setFinishTimeInString,\n    setLastRoundStarted,\n    addResult,\n  } = useGameState();\n\n  const gameStart = useCallback(() => {\n    setPhase('running');\n    const now = new Date();\n    setLastRoundStarted(now.getTime());\n    setStartTimeInString(now.toLocaleString());\n    setPlayerName('unknown');\n  }, []);\n\n  const handleAnswerd = (\n    game: Game,\n    answer: number,\n    lastRoundStarted: number\n  ) => {\n    if (game.answer === answer) {\n      setPhase('answered', `正解です`);\n    } else {\n      setPhase('answered', `${answer}は不正解です。正解は${game.answer}`);\n    }\n    addResult({\n      elapsedTimeInMilliSec: Date.now() - lastRoundStarted,\n      correct: game.answer === answer,\n    });\n  };\n\n  const handleSnackBarOk = () => {\n    setPhase('running');\n    if (gameState.currentGameRound === gameState.gameRounds.length - 1) {\n      setFinishTimeInString(new Date().toString());\n      setPhase('finished');\n    } else {\n      setCurrentRound(gameState.currentGameRound + 1);\n    }\n  };\n\n  const gameReviewed = (gameState: GameState) => () => {\n    const gameResult = [\n      gameState.startTimeInString,\n      gameState.playerName,\n      gameState.results.reduce((acc, curr) => acc + (curr.correct ? 1 : 0), 0),\n      gameState.results.length,\n    ];\n    setGameResult((prevValue: any) => [...prevValue, gameResult]);\n    setPhase('initial');\n  };\n\n  return (\n    <Grid container>\n      <Grid item xs={1} />\n      {(gameState => {\n        if (gameState.gamePhase === 'initial') {\n          setPhase('splash');\n          return <div />;\n        } else if (gameState.gamePhase === 'splash') {\n          setTimeout(() => {\n            setPhase('ready');\n          }, 1000);\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h1'}>\n                  算数ゲーム\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <Typography align={'center'} variant={'h4'}>\n                  さんすうゲームがはじまります。\n                </Typography>\n              </Grid>\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'ready') {\n          return (\n            <Grid container>\n              <Grid item xs={12}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameStart}\n                  data-testid=\"start\">\n                  START\n                </Button>\n              </Grid>\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'running') {\n          return (\n            <Grid item xs={10}>\n              <NumPad gameState={gameState} onChange={handleAnswerd} />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'answered') {\n          return (\n            <Grid item xs={10}>\n              <NumPad\n                gameState={gameState}\n                message={gameState.message}\n                onSnackbarOk={handleSnackBarOk}\n              />\n            </Grid>\n          );\n        } else if (gameState.gamePhase === 'finished') {\n          return (\n            <Grid container>\n              <Grid item>\n                <Results gameResuts={gameResults} />\n              </Grid>\n              <Grid item xs={10}>\n                <Button\n                  variant=\"contained\"\n                  className={classes.button}\n                  color={'secondary'}\n                  onClick={gameReviewed(gameState)}\n                  data-testid=\"start\">\n                  OK\n                </Button>\n              </Grid>\n            </Grid>\n          );\n        } else {\n          return <div>Error</div>;\n        }\n      })(gameState)}\n    </Grid>\n  );\n}\n\nexport default withStyles(styles)(GameMainPanel);\n","import React, { useState, useCallback } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grid from '@material-ui/core/Grid';\n\nimport GameMainPanel from './GameMainPanel';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\ntype Props = { classes: any };\n\nfunction ButtonAppBar({ classes }: Props) {\n  return (\n    <>\n      <CssBaseline />\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"Menu\">\n            <MenuIcon />\n          </IconButton>\n          <Typography variant={'h4'} color=\"inherit\">\n            さんすうゲーム\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <GameMainPanel />\n    </>\n  );\n}\n\nexport default withStyles(styles)(ButtonAppBar);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}